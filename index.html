<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sibling Game - SIM & Internet System</title>
  <style>
    body { font-family: Arial; background: #f0f0f0; padding: 20px; }
    .hidden { display: none; }
    button, input { padding: 10px; margin: 5px; width: 100%; }
    .sim-logo { width: 100px; margin: 5px; cursor: pointer; }
    .top-bar { display: flex; justify-content: space-between; background: #222; color: #fff; padding: 10px; }
    #sim-app { border: 1px solid #ccc; padding: 10px; background: #fff; }
  </style>
</head>
<body>

<div id="top" class="top-bar">
  <div>📞 Phone: <span id="phone-number">None</span></div>
  <div>💰 Card: $<span id="card-money">500</span></div>
</div>

<h2>Buy Phone Number</h2>
<button onclick="openSimShop()">Buy SIM Card ($250)</button>
<div id="sim-shop" class="hidden">
  <h3>Select Provider</h3>
  <img src="https://upload.wikimedia.org/wikipedia/commons/3/3e/Orange_logo.svg" class="sim-logo" onclick="buySim('Orange')">
  <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Vodafone_2017_logo.svg" class="sim-logo" onclick="buySim('Vodafone')">
  <img src="https://upload.wikimedia.org/wikipedia/commons/e/ed/Etisalat_Logo.png" class="sim-logo" onclick="buySim('e&')">
</div>

<div id="sim-app-section" class="hidden">
  <button onclick="openSimApp()">📶 Open SIM App</button>
</div>

<div id="sim-app" class="hidden">
  <h3 id="sim-company-title"></h3>
  <p>📶 Internet Balance: <span id="internet-balance">0</span> MB</p>
  <button onclick="buyInternet(10, 100)">Buy 100MB ($10)</button>
  <button onclick="buyInternet(50, 2000)">Buy 2000MB ($50)</button>
  <button onclick="buyInternet(60, 2500)">Buy 2500MB ($60)</button>
  <button onclick="buyInternet(70, 3000)">Buy 3000MB ($70)</button>

  <div>
    <button onclick="enterSecret()">Enter Secret Code</button>
    <div id="secret-area" class="hidden">
      <input id="raseed-amount" type="number" placeholder="Amount to Add">
      <button onclick="addRaseed()">Add Raseed</button>
    </div>
  </div>
</div>

<h3>Facenet</h3>
<div id="internet-warning" style="color:red;"></div>
<div id="facenet-area">
  <input id="post-title" placeholder="Post Title">
  <input id="post-img" placeholder="Image URL">
  <button onclick="makePost()">Post</button>
  <div id="posts"></div>
</div>

<script>
let cardMoney = 500;
let phoneNumber = null;
let simCompany = null;
let internetMB = 0;
let postInterval;

function updateDisplay() {
  document.getElementById("card-money").innerText = cardMoney;
  document.getElementById("phone-number").innerText = phoneNumber || "None";
  document.getElementById("internet-balance").innerText = internetMB;
  document.getElementById("sim-company-title").innerText = simCompany ? simCompany + " App" : "";
}

function openSimShop() {
  document.getElementById("sim-shop").classList.remove("hidden");
}

function buySim(company) {
  if (cardMoney < 250) return alert("Not enough money.");
  const num = Math.floor(10000 + Math.random() * 90000);
  phoneNumber = num;
  simCompany = company;
  cardMoney -= 250;
  document.getElementById("sim-shop").classList.add("hidden");
  document.getElementById("sim-app-section").classList.remove("hidden");
  updateDisplay();
}

function openSimApp() {
  document.getElementById("sim-app").classList.remove("hidden");
}

function buyInternet(price, mb) {
  if (cardMoney < price) return alert("Not enough card balance.");
  cardMoney -= price;
  internetMB += mb;
  updateDisplay();
  checkInternetStatus();
}

function enterSecret() {
  const code = prompt("Enter secret code:");
  if (code === "555") {
    document.getElementById("secret-area").classList.remove("hidden");
  } else {
    alert("Wrong code.");
  }
}

function addRaseed() {
  const amt = parseInt(document.getElementById("raseed-amount").value);
  if (!isNaN(amt)) {
    internetMB += amt;
    updateDisplay();
    alert("Raseed added.");
  }
}

function checkInternetStatus() {
  if (internetMB <= 0) {
    document.getElementById("internet-warning").innerText = "❌ No Internet: Buy data to post or view posts.";
    document.getElementById("facenet-area").style.display = "none";
    clearInterval(postInterval);
  } else {
    document.getElementById("internet-warning").innerText = "";
    document.getElementById("facenet-area").style.display = "block";
    if (!postInterval) {
      postInterval = setInterval(() => {
        if (internetMB >= 100) {
          internetMB -= 100;
          updateDisplay();
        } else {
          clearInterval(postInterval);
          checkInternetStatus();
        }
      }, 90 * 1000); // 1.5 minutes
    }
  }
}

function makePost() {
  const title = document.getElementById("post-title").value;
  const img = document.getElementById("post-img").value;
  if (!title || !img) return alert("Fill all fields");
  const div = document.createElement("div");
  div.innerHTML = "<h4>" + title + "</h4><img src='" + img + "' width='100%'>";
  document.getElementById("posts").prepend(div);
}
</script>

</body>
</html>
